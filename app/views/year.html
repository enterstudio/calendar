<div class="root" ng-controller="YearCtrl">

  <div id="calendar-nav" class="nav-container">
    <span class="calendar-nav left">
      <button ng-click="previous()" ng-disabled="calendar.previousYear < 1900">
        &lt; {{calendar.previousYear}}
      </button>
    </span>
    <year-picker></year-picker>
    <span class="calendar-nav right">
      <button ng-click="next()" ng-disabled="calendar.nextYear > 2050">
        {{calendar.nextYear}} &gt;
      </button>
    </span>
  </div>

  <div ng-show="calendar.data.months" class="nav-container container">
    <ul class="month-nav">
      <li><span class="month-nav-label">Jump to:</span></li>
      <li ng-repeat="month in calendar.data.months">
        <span class="month-nav-sep" ng-show="$first"> | </span>
        <a ng-click="scrollTo('month-{{month.name}}')" title="{{month.name}}">{{month.name | limitTo: 3}}</a>
        <span class="month-nav-sep"> | </span>
      </li>
    </ul>
  </div>

  <div cg-busy="calendar.data"></div>

  <div class="calendar-container">

    <div ng-repeat="month in calendar.data.months" id="{{ 'month-' + month.name }}" class="calendar-month">

      <div class="month-detail">
        <a ui-sref="month({ year: calendar.year, month: $index + 1, lang: calendar.lang, sel: calendar.sel })">
          View {{month.name}} {{calendar.year}} Calendar
        </a>
      </div>

      <span ng-show="calendar.backToTopVisibility" class="back-to-top">
        <scroll-to-top></scroll-to-top>
      </span>

      <calendar-month month="month" lang="calendar.lang" sel="calendar.sel"></calendar-month>

    </div>

  </div>

</div>
